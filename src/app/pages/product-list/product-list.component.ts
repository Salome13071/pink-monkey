import { Component } from '@angular/core';
import { ProductComponent } from './product/product.component';
import { ProductItemDto } from '../../dtos/ProductItemDto';
import { NgForOf, NgIf } from '@angular/common';
import { ProductService } from '../../../services/product.service'
import { FilterComponent } from '../../filter/filter.component';

@Component({
  selector: 'app-product-list',
  standalone: true,
  imports: [ProductComponent, NgForOf, FilterComponent, NgIf],
  templateUrl: './product-list.component.html',
  styleUrl: './product-list.component.css'
})
export class ProductListComponent {
  public currency: string = '$';
  public isLoading: boolean = true;
  constructor(public productService: ProductService) {
    this.isLoading = true;
    this.productService.getProductList().subscribe(data => {
      this.productService.getFavorites()
      data.forEach((val, index) => {
        if (this.productService.favoriteList.find(id => id === val.id)) {
          data[index]['isInFav'] = true;
        } else {
          data[index]['isInFav'] = false;
        }
      })
      this.productService.productList = data;
      console.log(JSON.stringify(this.productService.productList))
      this.isLoading = false;
    })
  }

}

// [{ "id": "1", "title": "BonBons", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/1.jpg", "price": 10, "saldItemsCount": 11, "sale": 0, "vegan": false, "diabetic": true, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": true }, { "id": "2", "title": "Love", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/10.jpg", "price": 12, "saldItemsCount": 22, "sale": 10, "vegan": false, "diabetic": false, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": true }, { "id": "3", "title": "Sweet", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/12.jpg", "price": 13, "saldItemsCount": 133, "sale": 20, "vegan": true, "diabetic": true, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": true }, { "id": "4", "title": "BonBons and Sweet ", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/13.jpg", "price": 12, "saldItemsCount": 33, "sale": 0, "vegan": false, "diabetic": false, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "5", "title": "Color of Sweet ", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/14.jpg", "price": 15, "saldItemsCount": 123, "sale": 0, "vegan": false, "diabetic": false, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "6", "title": "New Year", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/15.jpg", "price": 10, "saldItemsCount": 45, "sale": 0, "vegan": true, "diabetic": false, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "7", "title": "Chokolate Pinc gift", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/16.jpg", "price": 20, "saldItemsCount": 130, "sale": 50, "vegan": false, "diabetic": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "8", "title": "Smile", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/19.jpg", "price": 40, "saldItemsCount": 23, "sale": 20, "vegan": false, "diabetic": false, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "9", "title": "Red Hurt", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/8.jpg", "price": 18, "saldItemsCount": 43, "sale": 20, "vegan": true, "diabetic": true, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "10", "title": "Ana Bana", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/2.jpg", "price": 13, "saldItemsCount": 133, "sale": 0, "vegan": false, "diabetic": false, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "11", "title": "Monkey hurt", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/20.jpg", "price": 14, "saldItemsCount": 100, "sale": 50, "vegan": false, "diabetic": false, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "12", "title": "Small box", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/5.jpg", "price": 15, "saldItemsCount": 1333, "sale": 0, "vegan": false, "diabetic": true, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "13", "title": "Sweet Gift", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/4.jpg", "price": 15, "saldItemsCount": 1333, "sale": 10, "vegan": false, "diabetic": true, "saleOn": true, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "14", "title": "Colorful Gift", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/21.jpg", "price": 15, "saldItemsCount": 1333, "sale": 0, "vegan": false, "diabetic": true, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }, { "id": "15", "title": "Cosmo", "image": "https://raw.githubusercontent.com/Salome13071/pink-monkey-resources/main/3.jpg", "price": 15, "saldItemsCount": 1333, "sale": 0, "vegan": false, "diabetic": true, "saleOn": false, "description": "Our NEW craft collection of handmade, artisan truffles made with Fresh Whipping Cream, Fair Trade Certified Chocolate and natural ingredients. Each truffle is hand decorated by our artisan candy makers and hand packed in a premium gift box. Each collection includes Strawberry Cheesecake, German Chocolate Cake, Caramel Fudge Brownie, Sea Salt Caramel, Birthday Cake, Fresh Mint, Fresh Raspberry, Italian Espresso, Red Velvet Cake, White Euro Dark, Swiss Chocolate, Caramel Cheesecake. All Made with Fair Trade Certified and Clean Ingredients.", "isInFav": false }]